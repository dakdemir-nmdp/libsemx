# libsemx TODO

## Active
- [ ] Extend mixed-model analytic gradients to non-Gaussian (Laplace) families and validate against finite differences across multiple random-effect structures

## Completed
- [x] Generalize Gaussian mixed-model likelihood/gradient assembly to handle multiple grouping factors via full V construction. Tests: `cmake --build build --target libsemx_tests`, `ctest --test-dir build -R "analytic gradients"`. (2025-12-01)
- [x] Implement analytic gradients for mixed models (multiple Gaussian random effects per grouping). Tests: `cmake --build build --target libsemx_tests`, `ctest --test-dir build -R "analytic gradients"`. (2025-12-02)
- [x] Expose fixed covariance data in LikelihoodDriver::fit and bindings. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build -R "fixed covariance"`. (2025-12-01)
- [x] Extend ModelObjective to include covariance parameters in optimization. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build -R libsemx_tests`. (2025-12-01)
- [x] Implement analytic gradients for ModelObjective to replace finite differences (for fixed effects). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build -R libsemx_tests`. (2025-12-01)
- [x] Integrate LBFGS optimizer into LikelihoodDriver and expose to bindings. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build -R LikelihoodDriver`, `PYTHONPATH=build uv run pytest python/semx/tests/test_fit.py`. (2025-12-01)
- [x] Implement Multi-Kernel covariance structure with weighted sum of kernels. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Genomic Relationship Matrix (GRM) kernel support. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement L-BFGS optimizer wrapper (using LBFGS++ or similar). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build -R LBFGSOptimizer`. (2025-12-01)
- [x] Implement R bindings for ModelIR and LikelihoodDriver. Tests: `R CMD INSTALL ../Rpkg/semx && R -q -e "library(testthat); library(semx); test_dir('../Rpkg/semx/tests/testthat')"`. (2025-12-01)
- [x] Implement Python bindings for ModelIR and LikelihoodDriver. Tests: `cmake -S cpp -B build`, `cmake --build build`, `PYTHONPATH=build uv run pytest python/semx/tests`. (2025-12-01)
- [x] Implement Kronecker product covariance structure for GxE models (N-way, identification handling). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Laplace approximation for non-Gaussian random effects. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement REML for Gaussian random effects. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Ordinal outcome family (Probit link with thresholds). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Competing Risks support (Cause-specific hazards via censoring). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Survival outcome families (Weibull) with censoring support. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Gaussian ML random effects evaluation (intercepts and slopes) with covariance structures. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate Gaussian outcome evaluation into preliminary likelihood driver stub (reference §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Draft Python package test harness scaffolding mirroring C++ fixtures (reference mission snapshot). Tests: `cd python && uv run pytest`. (2025-12-01)
- [x] Extend LikelihoodDriver to support mixed outcome families and integrate with ModelIR for end-to-end evaluation. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement additional outcome families (Negative Binomial, Binomial) and extend factory. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement analytic derivatives for Negative Binomial outcome family. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate random effects and covariance structures into LikelihoodDriver for full mixed-model evaluation (stub: throws on random effects). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)

- [x] Implement Kronecker product covariance structure for GxE models (N-way, identification handling). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Laplace approximation for non-Gaussian random effects. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement REML for Gaussian random effects. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Ordinal outcome family (Probit link with thresholds). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Competing Risks support (Cause-specific hazards via censoring). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Survival outcome families (Weibull) with censoring support. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement Gaussian ML random effects evaluation (intercepts and slopes) with covariance structures. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate Gaussian outcome evaluation into preliminary likelihood driver stub (reference §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Draft Python package test harness scaffolding mirroring C++ fixtures (reference mission snapshot). Tests: `cd python && uv run pytest`. (2025-12-01)
- [x] Extend LikelihoodDriver to support mixed outcome families and integrate with ModelIR for end-to-end evaluation. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement additional outcome families (Negative Binomial, Binomial) and extend factory. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement analytic derivatives for Negative Binomial outcome family. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate random effects and covariance structures into LikelihoodDriver for full mixed-model evaluation (stub: throws on random effects). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate Gaussian outcome evaluation into preliminary likelihood driver stub (reference §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Draft Python package test harness scaffolding mirroring C++ fixtures (reference mission snapshot). Tests: `cd python && uv run pytest`. (2025-12-01)
- [x] Extend LikelihoodDriver to support mixed outcome families and integrate with ModelIR for end-to-end evaluation. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement additional outcome families (Negative Binomial, Binomial) and extend factory. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement analytic derivatives for Negative Binomial outcome family. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate Gaussian outcome evaluation into preliminary likelihood driver stub (reference §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Draft Python package test harness scaffolding mirroring C++ fixtures (reference mission snapshot). Tests: `cd python && uv run pytest`. (2025-12-01)
- [x] Extend LikelihoodDriver to support mixed outcome families and integrate with ModelIR for end-to-end evaluation. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement additional outcome families (Negative Binomial, Binomial) and extend factory. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate Gaussian outcome evaluation into preliminary likelihood driver stub (reference §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Draft Python package test harness scaffolding mirroring C++ fixtures (reference mission snapshot). Tests: `cd python && uv run pytest`. (2025-12-01)
- [x] Extend LikelihoodDriver to support mixed outcome families and integrate with ModelIR for end-to-end evaluation. Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate Gaussian outcome evaluation into preliminary likelihood driver stub (reference §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Draft Python package test harness scaffolding mirroring C++ fixtures (reference mission snapshot). Tests: `cd python && uv run pytest`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Integrate Gaussian outcome evaluation into preliminary likelihood driver stub (reference §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Bootstrap core scaffolding: CMake project, ModelGraph skeleton, Parameter primitive, and Catch2-based test harness (reference §§2.2, 3.1, 3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Flesh out parameter transforms for constrained optimization and integrate with `Parameter` unconstrained storage (reference §3.2). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Implement covariance structure base class with unstructured and diagonal variants (reference §3.3). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Introduce Gaussian outcome family with log-likelihood and gradient hooks (reference §3.6 & §6.1). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Design frontend IR contract for Python and R bindings (reference §2.1 and §10). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
- [x] Outline optimizer plug-in interface (reference §2.7 and §3.8). Tests: `cmake -S cpp -B build`, `cmake --build build`, `ctest --test-dir build`. (2025-12-01)
